{"version":3,"file":"server.js","mappings":"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","sources":["webpack://ssr/./src/pages/Home/index.jsx","webpack://ssr/./src/server/App.jsx","webpack://ssr/./src/server/getScript.js","webpack://ssr/./src/server/render.js","webpack://ssr/./src/pages/Home/index.css","webpack://ssr/./node_modules/isomorphic-style-loader/insertCss.js","webpack://ssr/external commonjs \"express\"","webpack://ssr/external commonjs \"react\"","webpack://ssr/external commonjs \"react-dom/server\"","webpack://ssr/external node-commonjs \"fs\"","webpack://ssr/webpack/bootstrap","webpack://ssr/webpack/runtime/compat get default export","webpack://ssr/webpack/runtime/define property getters","webpack://ssr/webpack/runtime/hasOwnProperty shorthand","webpack://ssr/webpack/runtime/make namespace object","webpack://ssr/./src/server/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"./index.css\";\n\nexport default function() {\n  const [number, setNumber] = useState(0);\n  return (\n    <div>\n      <h1>首页 : {number}</h1>\n      <button\n        className={styles.beautybutton}\n        onClick={() => {\n          setNumber(number + 1);\n        }}\n      >\n        点击\n      </button>\n    </div>\n  );\n}","import React from \"react\"\nimport Home from \"../pages/Home\"\nexport default () => {\n    return <Home />\n}","const fs = require(\"fs\")\nconst getScript = () => {\n    const result = fs.readdirSync(\"./public/js\").filter(file=>file.endsWith(\".js\")).map(item=>{\n        return `<script src=\"./js/${item}\"></script>`\n    })\n    return result.join(\"\\n\")\n}\nexport default getScript\n","import React from \"react\"\nconst ReactDOMServer = require(\"react-dom/server\");\nimport getScript from \"./getScript\";\nimport App from \"./App\";\nexport default (req, res) => {\n  const componentHTML = ReactDOMServer.renderToString(<App />);\n  const html = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Document</title>\n    </head>\n    <body>\n        <div id=\"root\">${componentHTML}</div>\n        ${getScript()}\n    </body>\n    </html>`;\n  res.send(html);\n};\n","\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/css-loader/dist/cjs.js?modules!./index.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js?modules!./index.css\", function() {\n        css = require(\"!!../../../node_modules/css-loader/dist/cjs.js?modules!./index.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n'use strict';\n\nvar inserted = {};\n\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(\"0x\" + p1);\n  }));\n}\n\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(id);\n\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\nfunction insertCss(styles, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === void 0 ? false : _ref$prepend,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? 's' : _ref$prefix;\n\n  var ids = [];\n\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = styles[i],\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n    var id = \"\" + prefix + moduleId + \"-\" + i;\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n    var elem = document.getElementById(id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n\n    if (sourceMap && typeof btoa === 'function') {\n      cssText += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + b64EncodeUnicode(JSON.stringify(sourceMap)) + \"*/\";\n      cssText += \"\\n/*# sourceURL=\" + sourceMap.file + \"?\" + id + \"*/\";\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n//# sourceMappingURL=insertCss.js.map\n","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"fs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from \"react\"\nimport render from \"./render\"\nconst express = require(\"express\");\n\nconst app = express();\n\n//设置静态资源拦截\napp.use(express.static(\"./public\"));\n\napp.get(\"*\", render);\n\napp.listen(8080, () => {\n  console.log(\"serve is working on 8080\");\n});\n"],"names":["React","useState","styles","number","setNumber","createElement","className","beautybutton","onClick","Home","fs","require","getScript","result","readdirSync","filter","file","endsWith","map","item","join","ReactDOMServer","App","req","res","componentHTML","renderToString","html","send","render","express","app","use","static","get","listen","console","log"],"sourceRoot":""}